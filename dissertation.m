ret = [
 0.94	1.79	-2.59	1.36	-6.11	0.81	1.76	0.85	1.76
-0.30	-1.48	-1.88	0.22	2.91	0.12	-3.92	-2.25	-3.92
0.28	4.50	5.46	-6.88	5.40	2.81	7.09	1.39	7.09
-2.15	-4.40	-2.92	-2.01	-4.00	-0.10	0.02	-0.92	0.02
-2.33	-1.56	-4.15	-3.59	-0.25	0.18	7.24	-1.06	7.24
4.76	4.23	1.82	-3.03	1.19	1.76	1.56	-0.22	1.56
-2.35	-2.80	1.48	-0.29	0.00	-0.52	-0.49	-0.32	-0.49
1.15	1.13	5.24	1.92	0.00	-0.42	0.52	-4.89	0.52
-2.68	-1.29	-2.59	0.50	0.00	-0.46	-1.25	5.92	-1.25
3.31	3.09	3.68	0.31	0.00	4.92	6.00	2.48	6.00
1.22	0.68	1.14	-12.63	0.00	-4.17	-1.20	-1.83	-1.20
-0.41	0.59	3.25	1.59	0.00	2.15	-1.97	3.24	-1.97
1.20	1.30	-1.23	-0.54	0.00	-1.10	4.45	-0.01	4.45
4.81	3.74	4.58	0.21	0.00	1.90	2.47	-1.44	2.47
3.88	5.33	5.82	-4.33	0.00	0.75	6.91	3.52	6.91
2.82	1.79	1.22	-1.76	0.00	3.14	2.76	2.77	2.76
-1.11	-1.49	-0.68	4.64	0.00	2.15	1.84	1.39	1.84
5.31	2.40	1.51	2.03	0.00	5.12	5.93	2.84	5.93
13.26	15.08	8.94	2.60	0.00	10.11	11.10	9.49	11.10
-2.85	-6.39	-2.03	3.70	0.00	1.74	-0.80	-1.87	-0.80
-1.71	-0.02	-0.73	-0.12	0.00	1.37	4.55	3.06	4.55
3.72	2.83	5.20	0.00	0.00	1.37	-1.73	6.71	-1.73
-3.24	-2.06	-0.58	2.22	0.00	0.72	-3.44	-9.38	-3.44
1.15	4.86	2.41	4.19	0.00	6.17	5.67	-1.64	5.67
];


mu = mean(ret); 
n = size(ret,2);
m = size(ret,1);
Sigma = zeros(n,n);
% Compute Covariance matrix
% First compute the lower triangular part
% First compute the lower triangular part
for i=1:n
    for j=1:i
        Sigma(i,j) = ((ret(:,i) - mu(i))' * (ret(:,j) - mu(j)))/m ;
    end
end
% Now flip the matrix and add
Sigma = Sigma + triu(Sigma',1);

esg= [8.02 7.42 7.10 4.86 6.43 7.33 8.00 7.05 6.92];

benchmark = [1.17 1.02 1.42 0.02 2.27 1.30 0.79 0.44 2.05];


cvx_begin quiet
variables x(n);
maximize(esg*x)
mu*x >= 1.1
(x-benchmark')'*Sigma*(x-benchmark')<=475
ones(1,n)*x ==1;

x>=0;
cvx_end

x;
mu;
